# CPU多级缓存

![](image/Pasted%20image%2020220213212027.png)

![](image/Pasted%20image%2020220213212102.png)

![](image/Pasted%20image%2020220213212115.png)

 ## 缓存一致性（MESI）

 ![](image/Pasted%20image%2020220213212226.png)

 ![](image/Pasted%20image%2020220213212336.png)

 ## 乱序执行优化

 ![](image/Pasted%20image%2020220213212511.png)

 # JMM

 ![](image/Pasted%20image%2020220213212622.png)

 ![](image/Pasted%20image%2020220213212632.png)

 ![](image/Pasted%20image%2020220213212702.png)

 ![](image/Pasted%20image%2020220213212721.png)

 ## 同步8种操作

 ![](image/Pasted%20image%2020220213212811.png)

 ![](image/Pasted%20image%2020220213212822.png) 

 ## 同步规则

 ![](image/Pasted%20image%2020220213212938.png)

 ![](image/Pasted%20image%2020220213213040.png)

![](image/Pasted%20image%2020220213213050.png)

![](image/Pasted%20image%2020220213213216.png)

## 同步操作和规则

![](image/Pasted%20image%2020220213213341.png)

# 并发的优势与风险

![](image/Pasted%20image%2020220213213527.png)



