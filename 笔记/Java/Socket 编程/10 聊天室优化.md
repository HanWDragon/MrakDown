# 需要优化的问题



![](image/Pasted%20image%2020250116150719.png)

![](image/Pasted%20image%2020250116150807.png)
# 并发 BUG 优化

![](image/Pasted%20image%2020250118153059.png)

## 客户端服务器连接数量

![](image/Pasted%20image%2020250117131802.png)

![](image/Pasted%20image%2020250118152912.png)

![](image/Pasted%20image%2020250118153117.png)

# 心跳包

## 为什么需要

![](image/Pasted%20image%2020250119144204.png)

## 作用

![](image/Pasted%20image%2020250119145906.png)

## 策略选择

![](image/Pasted%20image%2020250119150036.png)

![](image/Pasted%20image%2020250119150117.png)

## 帧结构

![](image/Pasted%20image%2020250119150222.png)

![](image/Pasted%20image%2020250119150250.png)

## 发送与消费

![](image/Pasted%20image%2020250119150458.png)

## Netty 实现

![](image/Pasted%20image%2020250119150606.png)

![](image/Pasted%20image%2020250119150637.png)

![](image/Pasted%20image%2020250119203317.png)

# NAT


![](image/Pasted%20image%2020250119144354.png)

![](image/Pasted%20image%2020250119145137.png)

## 完全锥形 NAT

![](image/Pasted%20image%2020250119145241.png)
## 对称性 NAT

![](image/Pasted%20image%2020250119145529.png)

## NAT 超时时间

![](image/Pasted%20image%2020250119145553.png)