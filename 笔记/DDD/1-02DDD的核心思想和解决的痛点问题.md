# 什么是模型和建模

## 什么是模型

- 我们首先会想到它不是一个真实的东西，是对现实事物的一个模拟，比如下面这张图，我们画的一些框框，填入的一些属性，通过这些方式，去描述一个领域中几个关键的概念，通过之间的箭头来描述之间的关系。

![](image/Pasted%20image%2020220902141549.png)

- 我们建模的目的就是为了开发软件系统，解决相关领域的问题，上面这个模型就是为了解决门店中对商品管理和销售的问题。

## 模型与建模

![](image/Pasted%20image%2020220902142346.png)

## 建模是针对领域问题的建模

- 同样的事物在面对不同领域的问题，会产生不同的结果

![](image/Pasted%20image%2020220902142509.png)

# 软件系统的复杂性来自什么地方

## 软件系统复杂性的来源

- 业务复杂导致模型复杂
- 技术实现引入额外复杂性

![](image/Pasted%20image%2020220902142658.png)

### 业务的复杂性导致模型复制

- 同一个事物在面对不同领域，复杂度也是不好控制的

![](image/Pasted%20image%2020220902142956.png)

- 业务的复杂性也会导致模型复杂，加入我们要开发一个财务系统，包含上面三个问题，我们要是使用一个模型解决这三个问题，我们肯定会得到一个复杂的模型，那么钱这个模型就会过于复杂，因为了融合了三个领域要考虑的因素，而且还要考虑模型之间的关系，这就是传统面向对象建模的问题，使用单一的模型来描述这个系统，这就是DDD没有出现之前，许多大型系统的痛点问题（复杂性不可控）

![](image/Pasted%20image%2020220902143209.png)

### 技术实现引入额外复杂性

![](image/Pasted%20image%2020220902144842.png)

# DDD的关键思想以及如何应对多变的复杂性

## DDD核心思想

### 模型分解

- 用不同的模型去面对这个系统中不同的问题，DDD中提供了两个工具去面对这个系统中不同的问题
	1. 领域划分
	2. 限界上下文

- 我们可以通过领域划分，将问题划分成不同的子领域，分别进行建模，在不同的子领域就是不同的概念，也就是说它们并不是处于同一个限界上下文

![](image/Pasted%20image%2020220902144053.png)

- 领域划分是面向问题空间的
- 限界上下文是面向解决方案空间的

- 通过这两个工具，就可以将一个复杂的系统，划分成不同的模型，面向不同的子领域，解决不同的问题，这样项目的复杂性就得到了管理

### 模型驱动设计

- 在DDD之前的年代，分析建模和设计两个阶段的工作可以完全脱离关系
- 模型驱动设计其实是一种理念，通过仔细的选择模型和设计方案来保证实现和模型的一致，也就是说，在设计过程中不需要引入太多的复杂性，DDD中的确也提供了一些理论工具，来达到这种目的

![](image/Pasted%20image%2020220902145700.png)

- 比如说，架构分层的设计，构建防火层等等，都可以帮我们达到设计和模型的一致性
- 但是本质上还是一种理念，认为解决同一个问题，除了技术方案可以不一样之外，它的模型也可以不一样，你应该选择一个最合适的模型，达到自己的目标
- 拿刚才的例子来说，更合理的目标是，可以把搜索这个子领域单独拉出来，然后搜索领域会向商品业务领域获取相关的数据，通过转换层，转换为自己需要的模型，后面我们将会知道这一层叫防腐层，通过类似的建模层面和设计层面的处理，我们最终可以达到模型驱动设计的目标

# 小结

![](image/Pasted%20image%2020220902150723.png)