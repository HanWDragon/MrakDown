# 多重排列

请问“pingpong” 这8个字母有多少种不同的排列？

​	我们可以看到在“pingpong” 中重复的字母为2个p，2个n，2个g，遇到这种情况我们当然是不会做的，因为我们之前接触的都是无重排列，那我们就先把这些字母加上下标，如：
$$
p_1\;i\;n_1\;g_1\;p_2\;o\;n_2\;g_2
$$
​	就这样我们我们就构造一个无重排列，之后再取出对应符号的标号冗余度，便可以得到有多少种不同的排列，那么以下是计算过程：
$$
对于上式\;p_1\;i\;n_1\;g_1\;p_2\;o\;n_2\;g_2\\
全排列的个数为:8!\\
再来计算标号冗余度:p为2！n为2！g为2！\\
而且一般记为:P(n\,;r_1,r_2,\ldots,r_t)\\
所以对于此题写为:P(8\,;2,2,2,1,1)=\frac{8!}{2!2!2!}=5040
$$

​	刚才的思路，不仅仅能处理有重复的英文字母的排列，还能处理各种各样的多项式展开。

​	由上题可以得出多重全排列的定义：
$$
我们有若干个元素，r_1个 \, 1,r_2个 \, 2\ldots,r_t \, t,元素的个数之和为n\\
那么,它的全排列被记为:P(n\,;r_1,r_2,\ldots,r_t)\\
P(n\,;r_1,r_2,\ldots,r_t)=\frac{n!}{r_1!r_2! \ldots r_t!}
$$
​	那么我们再用这种思路来理解二项式定理
$$
(a+b)^n=\sum_{0\le k\le n}\frac{n!}{k!(n-k)!} a^kb^{n-k} =\sum_{0\le k\le n}C(n,k)a^kb^{n-k}
$$
​	那么进行类推就不仅仅再是两项的相加再进行幂乘而是：
$$
(a_1+a_2+\ldots+a_t)^n=\sum\frac{n!}{r_1! \ldots r_t!} a_1^{r1} \ldots a_t^{rt}\\
\sum r_i=n
$$
​	下面就拿一个乒乓球游戏举例方便理解：

- 一共有6个洞，洞口每次只能进入一个乒乓球，一组编号为 1-9 的9个乒乓球滚入洞口的方法由多少个？

​	解题思路：

​	1.（隔板法）首先将题目抽象：既然球被分到了6个区域内，那就用5个隔板把整个空间分为六个区域，然后再放球，那么问题来了，这样的每一个解该如何表示呢？我们发现每一个隔板都是一样的，剩下的其他的元素是已经编号的乒乓球，那么这样来看这就是既有有重的排列，又有无重的排序，由我们刚刚了解的多重排列，便可以将隔板编号后与乒乓球进行全排列后，除去隔板的冗余度，所以方案数为：
$$
P(14\,;5,1,\ldots,1)=\frac{14!}{5!}=726485760
$$
​	2.有的人可能理解不了隔板法，那我们切换另外一种想法，还是先像方法一用隔板分为六个区域，然后放第一个球，一共有6种可能性，然后再放第二个球，由于有了第一个球像隔板一样将一个区域划分为了两个区域，那么它就有了七种可能性，由此类推，到第9个球就有14种可能性，由此我们可以得到：
$$
6\times 7\times8\times9\times10\times11\times12\times13\times14\times15=\frac{14!}{5!}=726485760
$$